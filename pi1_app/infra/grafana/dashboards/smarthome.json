{
  "uid": "smarthome-kt2",
  "title": "Smart Home - KT2",
  "tags": ["iot", "kt2"],
  "timezone": "browser",
  "schemaVersion": 39,
  "version": 1,
  "refresh": "5s",
  "time": {"from": "now-15m", "to": "now"},
  "panels": [
    {
      "id": 1,
      "type": "timeseries",
      "title": "DS1 - Door Button",
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 0},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [
        {
          "refId": "A",
          "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_ds1\" and r._field == \"value\")"
        }
      ],
      "options": {
        "legend": {"displayMode": "list", "placement": "bottom"}
      }
    },
    {
      "id": 2,
      "type": "timeseries",
      "title": "DPIR1 - Motion",
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 0},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [
        {
          "refId": "A",
          "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_dpir1\" and r._field == \"value\")"
        }
      ],
      "options": {
        "legend": {"displayMode": "list", "placement": "bottom"}
      }
    },
    {
      "id": 3,
      "type": "timeseries",
      "title": "DUS1 - Ultrasonic Distance (cm)",
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 8},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [
        {
          "refId": "A",
          "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_dus1\" and r._field == \"value\")"
        }
      ],
      "options": {
        "legend": {"displayMode": "list", "placement": "bottom"}
      }
    },
    {
      "id": 4,
      "type": "timeseries",
      "title": "DMS - Membrane Switch",
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 8},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [
        {
          "refId": "A",
          "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_dms\" and r._field == \"value\")"
        }
      ],
      "options": {
        "legend": {"displayMode": "list", "placement": "bottom"}
      }
    },
    {
      "id": 5,
      "type": "timeseries",
      "title": "DL - Door Light",
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 16},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [
        {
          "refId": "A",
          "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_dl\" and r._field == \"value\")"
        }
      ],
      "options": {
        "legend": {"displayMode": "list", "placement": "bottom"}
      }
    },
    {
      "id": 6,
      "type": "timeseries",
      "title": "DB - Door Buzzer",
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 16},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [
        {
          "refId": "A",
          "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_db\" and r._field == \"value\")"
        }
      ],
      "options": {
        "legend": {"displayMode": "list", "placement": "bottom"}
      }
    },
    {
      "id": 7,
      "type": "timeseries",
      "title": "ALARM Events (ON/OFF)",
      "gridPos": {"h": 8, "w": 24, "x": 0, "y": 24},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [
        {
          "refId": "A",
          "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"alarm_event\" and r._field == \"active\")"
        }
      ],
      "options": {
        "legend": {"displayMode": "table", "placement": "bottom"}
      }
    },
    {
      "id": 8,
      "type": "timeseries",
      "title": "DS2 - Door Button",
      "gridPos": {"h": 8, "w": 8, "x": 0, "y": 32},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [{"refId": "A", "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_ds2\" and r._field == \"value\")"}]
    },
    {
      "id": 9,
      "type": "timeseries",
      "title": "DPIR2 - Motion",
      "gridPos": {"h": 8, "w": 8, "x": 8, "y": 32},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [{"refId": "A", "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_dpir2\" and r._field == \"value\")"}]
    },
    {
      "id": 10,
      "type": "timeseries",
      "title": "DUS2 - Distance",
      "gridPos": {"h": 8, "w": 8, "x": 16, "y": 32},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [{"refId": "A", "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_dus2\" and r._field == \"value\")"}]
    },
    {
      "id": 11,
      "type": "timeseries",
      "title": "DPIR3 - Motion",
      "gridPos": {"h": 8, "w": 8, "x": 0, "y": 40},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [{"refId": "A", "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_dpir3\" and r._field == \"value\")"}]
    },
    {
      "id": 12,
      "type": "timeseries",
      "title": "GSG - Gyroscope",
      "gridPos": {"h": 8, "w": 8, "x": 8, "y": 40},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [{"refId": "A", "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_gsg\" and r._field == \"value\")"}]
    },
    {
      "id": 13,
      "type": "timeseries",
      "title": "BTN - Kitchen Button",
      "gridPos": {"h": 8, "w": 8, "x": 16, "y": 40},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [{"refId": "A", "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_btn\" and r._field == \"value\")"}]
    },
    {
      "id": 14,
      "type": "timeseries",
      "title": "DHT1/2/3 - Temperature",
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 48},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [
        {"refId": "A", "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => (r._measurement == \"sensor_dht1\" or r._measurement == \"sensor_dht2\" or r._measurement == \"sensor_dht3\") and r._field == \"temperature_c\")"}
      ]
    },
    {
      "id": 15,
      "type": "timeseries",
      "title": "DHT1/2/3 - Humidity",
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 48},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [
        {"refId": "A", "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => (r._measurement == \"sensor_dht1\" or r._measurement == \"sensor_dht2\" or r._measurement == \"sensor_dht3\") and r._field == \"humidity_pct\")"}
      ]
    },
    {
      "id": 16,
      "type": "table",
      "title": "IR - Latest commands",
      "gridPos": {"h": 8, "w": 24, "x": 0, "y": 56},
      "datasource": {"type": "influxdb", "uid": "P951FEA4DE68E13C5"},
      "targets": [
        {"refId": "A", "query": "from(bucket: \"smart_home\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == \"sensor_ir\" and r._field == \"value_str\")\n  |> sort(columns: [\"_time\"], desc: true)\n  |> limit(n: 20)"}
      ]
    }
  ]
}
